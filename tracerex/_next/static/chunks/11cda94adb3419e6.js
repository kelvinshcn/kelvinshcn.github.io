(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75609,73151,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let n=async e=>{let t=await e.text();try{let e=JSON.parse(t);if(Array.isArray(e))return e;if(e.traceEvents)return e.traceEvents;throw Error("Invalid trace format")}catch(e){throw console.error("Failed to parse trace file",e),e}},a=e=>{let t=new Map;return e.forEach(e=>{let r=`${e.pid}:${e.tid}`;t.has(r)||t.set(r,{pid:e.pid,tid:e.tid,events:[],minTs:1/0,maxTs:-1/0});let n=t.get(r);n.events.push(e),e.ts<n.minTs&&(n.minTs=e.ts);let a="X"===e.ph?e.ts+(e.dur||0):e.ts;a>n.maxTs&&(n.maxTs=a)}),t.forEach(e=>{e.events.sort((e,t)=>e.ts-t.ts)}),Array.from(t.values())};e.s(["groupEventsByTrack",0,a,"parseTraceFile",0,n],73151);let l=(0,r.createContext)(void 0);e.s(["TraceProvider",0,({children:e})=>{let[n,s]=(0,r.useState)([]),[o,i]=(0,r.useState)([]),[c,u]=(0,r.useState)(null),[d,f]=(0,r.useState)(null);return(0,t.jsx)(l.Provider,{value:{events:n,tracks:o,setTraceData:e=>{s(e),i(a(e))},fileName:c,setFileName:u,selectedEvent:d,setSelectedEvent:f},children:e})},"useTrace",0,()=>{let e=(0,r.useContext)(l);if(!e)throw Error("useTrace must be used within a TraceProvider");return e}],75609)},67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let n=e.r(32061);function a({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new n.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function n(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return n}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return i}});let n=e.r(43476),a=e.r(74080),l=e.r(63599),s=e.r(9885),o=e.r(43369);function i({moduleIds:e}){if("undefined"!=typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let n=t.reactLoadableManifest;for(let t of e){if(!n[t])continue;let e=n[t].files;r.push(...e)}}if(0===r.length)return null;let i=(0,o.getDeploymentIdQueryOrEmptyString)();return(0,n.jsx)(n.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,s.encodeURIPath)(e)}${i}`;return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return c}});let n=e.r(43476),a=e.r(71645),l=e.r(67585),s=e.r(52157);function o(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let t={...i,...e},r=(0,a.lazy)(()=>t.loader().then(o)),c=t.loading;function u(e){let o=c?(0,n.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,u=i?a.Suspense:a.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(u,{...i?{fallback:o}:{},children:d})}return u.displayName="LoadableComponent",u}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let n=e.r(55682)._(e.r(69093));function a(e,t){let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,n.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},25805,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(75609),a=e.i(73151);function l(){let{setTraceData:e,setFileName:l}=(0,n.useTrace)(),[s,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),f=async t=>{c(!0),d(null);try{let r=await (0,a.parseTraceFile)(t);e(r),l(t.name)}catch(e){d("Failed to parse file. Please ensure it is a valid Chrome Trace JSON."),console.error(e)}finally{c(!1)}},m=async()=>{c(!0),d(null);try{let e=await fetch("/example_trace.json");if(!e.ok)throw Error("Failed to fetch example trace");let t=await e.blob(),r=new File([t],"example_trace.json",{type:"application/json"});await f(r)}catch(e){d("Failed to load example trace."),console.error(e),c(!1)}},p=(0,r.useCallback)(e=>{e.preventDefault(),o(!1);let t=e.dataTransfer.files[0];t&&f(t)},[]),h=(0,r.useCallback)(e=>{e.preventDefault(),o(!0)},[]),x=(0,r.useCallback)(e=>{e.preventDefault(),o(!1)},[]);return(0,t.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-10 text-center transition-colors
        ${s?"border-primary bg-primary/10":"border-gray-600 hover:border-gray-500"}
        ${i?"opacity-50 cursor-wait":"cursor-pointer"}
      `,onDrop:p,onDragOver:h,onDragLeave:x,children:[(0,t.jsx)("input",{type:"file",accept:".json",className:"hidden",id:"trace-upload",onChange:e=>{let t=e.target.files?.[0];t&&f(t)},disabled:i}),(0,t.jsx)("label",{htmlFor:"trace-upload",className:"cursor-pointer block",children:i?(0,t.jsx)("p",{className:"text-xl",children:"Processing Trace..."}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xl font-medium",children:"Drop Trace File Here"}),(0,t.jsx)("p",{className:"text-gray-400",children:"or click to browse"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"Accepts .json (Chrome Trace Format)"})]})}),!i&&(0,t.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-700/50",children:(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),m()},className:"text-sm text-primary hover:text-primary-hover hover:underline font-medium transition-colors",children:"Try an example trace"})}),u&&(0,t.jsx)("p",{className:"text-red-400 mt-4 font-bold",children:u})]})}let s=(0,e.i(70703).default)(()=>e.A(14729),{loadableGenerated:{modules:[79622]},ssr:!1}),o=({traceData:e,fileName:n})=>{let a=(0,r.useRef)(null),{width:l,height:o}=function(e){let[t,n]=(0,r.useState)({width:0,height:0});return(0,r.useEffect)(()=>{console.log("useContainerDimensions effect run. Ref current:",e.current);let t=()=>({width:e.current?e.current.offsetWidth:0,height:e.current?e.current.offsetHeight:0}),r=()=>{console.log("handleResize triggered"),n(t())};e.current&&n(t());let a=setTimeout(()=>{console.log("Timer check. Ref current:",e.current),e.current&&n(t())},100),l=new ResizeObserver(()=>{r()});return e.current&&l.observe(e.current),window.addEventListener("resize",r),()=>{clearTimeout(a),l.disconnect(),window.removeEventListener("resize",r)}},[e]),t}(a);return(0,t.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50 text-black overflow-hidden",children:[(0,t.jsxs)("header",{className:"h-12 bg-white border-b border-gray-200 flex items-center px-4 justify-between shrink-0 shadow-sm z-10",children:[(0,t.jsxs)("div",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600",children:"Tracerex"}),(0,t.jsx)("span",{className:"text-gray-400",children:"/"}),(0,t.jsx)("span",{className:"text-gray-800 text-sm truncate max-w-md",title:n,children:n})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.length.toLocaleString()," events"]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden relative",ref:a,style:{width:"100%",height:"100%"},children:l>0&&o>0&&(0,t.jsx)(s,{trace:e,viewportWidth:l,viewportHeight:o,renderer:"canvas",truncateLabels:!0})})]})};function i(){let{fileName:e,events:a}=(0,n.useTrace)(),s=(0,r.useMemo)(()=>a&&0!==a.length?a.map(e=>({name:e.name,startTime:e.ts/1e3,duration:(e.dur||0)/1e3,group:`${e.pid}:${e.tid}`})):[],[a]);return e&&0!==a.length?(0,t.jsx)(o,{traceData:s,fileName:e}):(0,t.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-center p-24 bg-gray-950 text-white",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-400",children:"Tracerex"}),(0,t.jsx)(l,{})]})}e.s(["default",()=>i],25805)},14729,e=>{e.v(t=>Promise.all(["static/chunks/5b2d487ff91ac9db.js"].map(t=>e.l(t))).then(()=>t(79622)))}]);