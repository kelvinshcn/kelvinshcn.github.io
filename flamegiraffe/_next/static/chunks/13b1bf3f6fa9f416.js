(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67585,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let r=e.r(32061);function n({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,l)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"PreloadChunks",{enumerable:!0,get:function(){return o}});let r=e.r(43476),n=e.r(74080),a=e.r(63599),s=e.r(9885),i=e.r(43369);function o({moduleIds:e}){if("undefined"!=typeof window)return null;let t=a.workAsyncStorage.getStore();if(void 0===t)return null;let l=[];if(t.reactLoadableManifest&&e){let r=t.reactLoadableManifest;for(let t of e){if(!r[t])continue;let e=r[t].files;l.push(...e)}}if(0===l.length)return null;let o=(0,i.getDeploymentIdQueryOrEmptyString)();return(0,r.jsx)(r.Fragment,{children:l.map(e=>{let l=`${t.assetPrefix}/_next/${(0,s.encodeURIPath)(e)}${o}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:l,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,n.preload)(l,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return d}});let r=e.r(43476),n=e.r(71645),a=e.r(67585),s=e.r(52157);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},l=(0,n.lazy)(()=>t.loader().then(i)),d=t.loading;function c(e){let i=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?n.Suspense:n.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,r.jsx)(l,{...e})]}):(0,r.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(l,{...e})});return(0,r.jsx)(c,{...o?{fallback:i}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return n}});let r=e.r(55682)._(e.r(69093));function n(e,t){let l={};"function"==typeof e&&(l.loader=e);let n={...l,...t};return(0,r.default)({...n,modules:n.loadableGenerated?.modules})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),t.exports=l.default)},31713,e=>{"use strict";var t=e.i(43476),l=e.i(71645);function r(e){let t={name:"root",value:0,children:[]};for(let l of e.split(/\r?\n/)){let e=l.trim();if(!e)continue;let r=e.lastIndexOf(" ");if(-1===r)continue;let n=e.substring(0,r),a=parseInt(e.substring(r+1),10);if(isNaN(a))continue;let s=n.split(";"),i=t;for(let e of(i.value+=a,s)){if(!e)continue;let t=i.children.find(t=>t.name===e);t||(t={name:e,value:0,children:[]},i.children.push(t)),i=t,i.value+=a}}return function e(t){t.children.sort((e,t)=>e.name.localeCompare(t.name)),t.children.forEach(e)}(t),t}let n=(0,e.i(70703).default)(()=>e.A(27200),{loadableGenerated:{modules:[38402]},ssr:!1});function a(){let[e,a]=(0,l.useState)(null),[s,i]=(0,l.useState)(!1),o=(0,l.useCallback)(async()=>{i(!0);try{let e=await fetch("/flamegiraffe/example.txt");if(!e.ok)throw Error("Failed to load example");let t=await e.text(),l=r(t);a(l)}catch(e){console.error(e),alert("Failed to load example")}finally{i(!1)}},[]);return(0,t.jsxs)("div",{className:"min-h-screen bg-white p-8 font-sans text-gray-900",children:[(0,t.jsxs)("header",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Flamegraph Explorer"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Upload a folded stack file or run the example to see it in action."})]}),e?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("button",{onClick:()=>a(null),className:"text-sm text-gray-600 hover:text-black underline",children:"← Upload new data"}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Total samples: ",e.value.toLocaleString()]})]}),(0,t.jsx)("div",{className:"border rounded-xl shadow-sm p-4 bg-white overflow-hidden",children:(0,t.jsx)(n,{data:e,width:1200,height:600})})]}):(0,t.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-12 text-center w-full hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("input",{type:"file",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let l=new FileReader;l.onload=e=>{if("string"==typeof e.target?.result)try{let t=r(e.target.result);a(t)}catch(e){console.error(e),alert("Failed to parse file")}},l.readAsText(t)},className:"hidden",id:"file-upload"}),(0,t.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition shadow-sm",children:"Upload File"}),(0,t.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["Supports folded stack format (e.g. ",(0,t.jsx)("code",{className:"bg-gray-100 px-1 rounded text-xs",children:"func;child 10"}),")"]})]}),(0,t.jsxs)("div",{className:"flex items-center w-full",children:[(0,t.jsx)("div",{className:"h-px bg-gray-200 flex-1"}),(0,t.jsx)("span",{className:"px-4 text-xs font-medium text-gray-400 uppercase tracking-widest",children:"or"}),(0,t.jsx)("div",{className:"h-px bg-gray-200 flex-1"})]}),(0,t.jsx)("button",{onClick:o,disabled:s,className:"w-full py-4 bg-gray-50 border border-gray-200 rounded-xl font-medium text-gray-700 hover:bg-gray-100 hover:border-gray-300 transition flex items-center justify-center gap-2",children:s?(0,t.jsx)("span",{children:"Loading..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"Run Example Flamegraph"}),(0,t.jsx)("span",{className:"text-gray-400",children:"→"})]})})]})})]})}e.s(["default",()=>a],31713)},27200,e=>{e.v(t=>Promise.all(["static/chunks/f2ff1341181f4363.js","static/chunks/ec7dbaa91e9309a5.css"].map(t=>e.l(t))).then(()=>t(38402)))}]);